<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>首页</title>
  <link rel="stylesheet" href="css/common.css"/>
  <link rel="stylesheet" href="css/mycss.css"/>
</head>
<body>
<template id="template-header">
  <div class="header_box">
    <header class="header container">
      <h1 class="logo"><a href="index.html" class="link"></a></h1>
      <div class="h_con">
        <ul class="clearfloat">
          <li class="phone">4000-585-116</li>
          <li><a href="#">中文</a></li>
          <li><em>|</em></li>
          <li><a href="#">English</a></li>
          <li><a href="#" class="weixin"></a></li>
          <li><a href="#" class="weibo"></a></li>
          <!--<li><a href="login.html" class="h_login">登录</a></li>-->
          <!--<li><em>|</em></li>-->
          <!--<li><a href="register.html" class="h_register">注册</a></li>-->
          <!--<li class="top_user"><a href="">admin</a></li>-->
          <!--<li class="top_quit"><a href="">退出</a></li>-->
        </ul>
        <div class="search clearfloat">
          <button type="button"></button>
          <input type="text"/>
        </div>
      </div>
    </header>
    <!--nav-->
    <nav class="navbar">
      <div class="container">
        <div class="nav">
          <ul>
            <li><router-link  to="/index"><span class="icon_home"></span>首页</router-link></li>
            <li><a href="about.html">关于净美仕</a></li>
            <li><router-link to="/news">公司动态</router-link></li>
            <li class="nav_pd">
              <a href="product.html">产品中心<span class="icon_pd"></span></a>
              <div class="pd_dropdown">
                <a href="product.html?type=1">净美仕净化器</a>
                <a href="product.html?type=2">净美仕滤网</a>
              </div>
            </li>
            <li><a href="contact.html">联系我们</a></li>
          </ul>
        </div>
        <div class="s_cart">
          <a href="cart.html">
            <span class="icon_cart"></span>购物车(<strong id="cart_sum">0</strong>)<span class="icon_sj"></span>
          </a>
          <div class="cart_dropdown">
            <!--<h3>您的购物车为空~</h3>-->
            <ul>
              <!--<li>-->
              <!--<a href=""><img src="product-imgs/jhq-m8088a.jpg" alt=""/></a>-->
              <!--<div>-->
              <!--<span>-</span><input type="text" value="2"/><span>+</span>-->
              <!--</div>-->
              <!--<strong>¥1599.00</strong>-->
              <!--<em></em>-->
              <!--</li>-->
              <!--<li>-->
              <!--<a href=""><img src="product-imgs/jhq-m8088a.jpg" alt=""/></a>-->
              <!--<div>-->
              <!--<span>-</span><input type="text" value="2"/><span>+</span>-->
              <!--</div>-->
              <!--<strong>¥1599.00</strong>-->
              <!--<em></em>-->
              <!--</li>-->
            </ul>
            <div class="cd_js clearfloat">
              <span>共计：<strong>0.00</strong></span>
              <a href="#">结算</a>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </div>
</template>

<template id="template-footer">
  <footer class="footer">
    <div class="container">
      <div class="f_con clearfloat">
        <ul>
          <li>
            <h3>走进净美仕</h3>
            <a href="">公司简介</a>
            <a href="">净美仕精神</a>
            <a href="">品牌历程</a>
          </li>
          <li>
            <h3>成为合作伙伴</h3>
            <a href="">成为核心供应商</a>
            <a href="">电商经销入口</a>
            <a href="">成为线下代理商</a>
          </li>
          <li>
            <h3>售后服务</h3>
            <a href="">在线报修</a>
            <a href="">售后政策</a>
            <a href="">下载中心</a>
          </li>
          <li>
            <h3>加入净美仕</h3>
            <a href="">招聘贤才</a>
            <a href="">联系我们</a>
            <a href="">网站地图</a>
          </li>
        </ul>
        <span class="qrcode"></span>
        <div class="kefu">
          <h4>4000-585-116</h4>
          <span>周一至周日9:00-18:00</span>
          <a href="#">金 牌 客 服</a>
        </div>
      </div>
      <div class="copyright">
        Copyright © 2014 Apple Inc 保留所有权利。使用条款|客户隐私政策 © 北京净美仕环境科技有限公司 京公安网安备 11010500896 | 京ICP备 12050755
      </div>
    </div>
  </footer>
</template>

<template id="template-main">
  <div>
    <!--面包屑导航-->
    <div class="breadcrumb">
      <div class="container">
        <h2>
          <a href="">首页</a>&gt;<a href="">公司动态</a>
        </h2>
      </div>
    </div>
    <!--页面主体-->
    <div class="main container">
      <div class="news">
        <ul>
          <li v-for="item in pager.data">
            <span>{{item.pubTime | forDate}}</span>
            <a :href="item.nid">{{item.title}}</a>
          </li>
        </ul>
      </div>
      <!-- 分页导航-->
      <div class="pages">
        <a href="" class="">上一页</a>
        <a v-for="i in pager.pageCount" @click="getPager(i)" :class="pager.pageNum==i?'cur':''">{{i}}</a>
        <a href="">下一页</a>
      </div>
    </div>
  </div>
</template>
<template id="template-index">
  <div>
    <!--banner-->
    <div class="banner">
      <!-- 练习：编写banner的html和css-->
      <!-- 图片列表-->
      <ul>
        <li style="background: url(images/banner_01.jpg) center 0 no-repeat; display: block;z-index: 20;"><a href="#" class="link"></a></li>
        <li style="background: url(images/banner_02.jpg) center 0 no-repeat;"><a href="#" class="link"></a></li>
        <li style="background: url(images/banner_03.jpg) center 0 no-repeat;"><a href="#" class="link"></a></li>
        <li style="background: url(images/banner_04.jpg) center 0 no-repeat;"><a href="#" class="link"></a></li>
      </ul>
      <!-- 左右箭头-->
      <span class="cut prev"></span>
      <span class="cut next"></span>
      <!-- 小圆点指示器-->
      <div class="indicator">
        <a href="" class="cur"></a><a href=""></a><a href=""></a><a href=""></a>
      </div>
    </div>
    <!--main-->
    <div class="main container">
      <div class="ind_con1">
        <h2 class="title"><a href="#" class="more">more</a>净美仕产品</h2>
        <ul class="clearfloat">
          <li><a href="#" class="link"><img src="images/01.jpg" alt=""/></a></li>
          <li><a href="#" class="link"><img src="images/02.jpg" alt=""/></a></li>
          <li><a href="#" class="link"><img src="images/03.jpg" alt=""/></a></li>
        </ul>
      </div>
      <div class="ind_con2 clearfloat">
        <div class="ind_about">
          <h2 class="title"><a href="#" class="more">more</a>关于净美仕</h2>
          <p>北京净美仕环境科技有限公司自诞生起一直关注人类呼吸健康的问题，并专注于室内空气质量的研究与改善。2003年，非典来袭，环境安全威胁到了每个人的生命，全国陷入一片恐慌。净美仕肩负着为人类创造健康安全生活环境的使命应运而生。2012年7月，亿朗以“净美仕(Mfresh)”为品牌重塑，以崭新的面貌屹立在净化行业。 <a
            href="#">查看更多</a></p>
        </div>
        <div class="ind_news">
          <h2 class="title"><a href="#" class="more">more</a>公司动态</h2>
          <ul>
            <li><span>2016-02-21</span><a href="">空气净化器要逆天？ “玫瑰金”“土豪金”齐上阵</a></li>
            <li><span>2016-02-21</span><a href="">净美仕新风净化系统　助力校园新风行动</a></li>
            <li><span>2016-02-21</span><a href="">全国新风行动全面启动 助推净美仕战略升级</a></li>
            <li><span>2016-02-21</span><a href="">智能空气净化器翻盘：净美仕能否领衔?</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>
<div id="app">
  <mf-header></mf-header>
  <router-view></router-view>
  <mf-footer></mf-footer>
</div>
<script src="js/vue.js"></script>
<script src="js/vue-resource.min.js"></script>
<script src="js/vue-router.min.js"></script>
<script>
  Vue.use(VueResource)
  Vue.use(VueRouter)

  Vue.component('mf-header', {
    template: "#template-header"
  })
  Vue.component('mf-footer', {
    template: "#template-footer"
  })
  var news = Vue.component('mf-news', {
    template: "#template-main",
    data(){
      return {
        pager:{}
      }
    },
    methods:{
      getPager(i=1){
        let url = 'http://localhost:3000/news/list/'+i;
        this.$http.get(url).then(function(res){
          console.log(res.body)
          this.pager = res.body
        })
      }
    },
    mounted(){
      this.getPager(1)
    },
    filters: {
      forDate: function (str) {
        if (!str) return ''
        function addZero(num) {
          if (parseInt(num) < 10) {
            num = '0' + num;
          }
          return num;
        }
        var oDate = new Date(str),
          oYear = oDate.getFullYear(),
          oMonth = oDate.getMonth() + 1,
          oDay = oDate.getDate(),
          oTime = oYear + '-' + addZero(oMonth) + '-' + addZero(oDay) + ' ';
        return oTime;
      },
    }
  })
  var index = Vue.component('mf-index',{
    template:'#template-index'
  })
  const myRouter = new VueRouter({
    routes:[
      {path:"/",component:index},
      {path:"/index",component:index},
      {path:"/news",component:news},
    ]
  })
  let vm = new Vue({
    el: '#app',
    router:myRouter,
  })
</script>
</body>
</html>