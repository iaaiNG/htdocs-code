<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src='common.js'></script>
    <script>
      function checkPwd(){
        var cpwd=$('cpwd').value;
        var upwd=$('upwd').value;
        if(cpwd!=upwd){
          $('promptPwd').innerHTML = "密码不一致";
        }else{
          $('promptPwd').innerHTML = "通过";
        }
      }
      
      function checkUname(){
        var uname=$('uname').value;
        var xhr = createXhr()
        xhr.open('get','01-register-checkuname.php?uname='+uname,false);
        xhr.onreadystatechange=function(){
        if(xhr.readyState==4&&xhr.status==200){
          var resText = xhr.responseText;
          $('promptUname').innerHTML = resText
        }
        }
        xhr.send(null);
        if(uname==''){
          $('promptUname').innerHTML = "用户名不能为空";
          console.log(uname)
        }
                
      }
      
    </script>
  </head>
  <body>
    <form action='01-register.php' method='post'>
      <div>
        登录名称：<input type='text' name='uname' id='uname' onblur='checkUname()'>
                  <span id='promptUname'></span>
      </div><br>
      <div>
        登录密码：<input type='password' name='upwd' id='upwd'>
      </div><br>
      <div>
        确认密码：<input type='password' name='cpwd' id='cpwd' onblur='checkPwd()'>
                  <span id='promptPwd'></span>
      </div><br>
      <div>
        电子邮箱：<input type='email' name='email'>
      </div><br>
      <div>
        移动电话：<input type='text' name='phone'>
      </div><br>
      <div>
        用户姓名：<input type='text' name='user_name'>
      </div><br>
      <div>用户性别：
        <select name='gender'>
          <option value='1'>男</option>
          <option value='0'>女</option>
        </select>
      </div><br>
      <div>
        <input type='submit' value='注册'>
      </div>
    </form>
  </body>
</html>
