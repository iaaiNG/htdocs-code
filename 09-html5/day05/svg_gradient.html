<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title></title>
  <style>
    body{text-align: center}
    svg{background: #ddd;}
  </style>
</head>
<body>
     <h1>svg创建元素</h1>
    <svg id="s2" width="500" height="400">
    </svg>
     <script src="../jquery-3.2.0.js"></script>
     <script>
         function rn(min,max){
             return Math.floor(Math.random()*(max-min)+min)
         }
         function rc(){
             var r = rn(50,200)
             var g = rn(50,200)
             var b = rn(50,200)
             return `rgb(${r},${g},${b})`
         }
         $.get("1.php", function(data){
             var html = ``
             for(var i=0;i<data.length;i++){
                 var p = data[i]
                 var val = p.value*30
                 html += `
                    <defs>
                        <linearGradient id="g${i+1}" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" stop-color="${rc()}"></stop>
                            <stop offset="100%" stop-color="#bbb"></stop>
                        </linearGradient>
                    </defs>
                    <rect width="40" height="${val}" x="${50+90*i}" y="${400-val-50}" fill="url(#g${i+1})"></rect>`
             }
             s2.innerHTML = html
         })
     </script>
</body>
</html>